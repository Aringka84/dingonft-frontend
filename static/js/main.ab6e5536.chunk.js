(this["webpackJsonpdingonft-frontend"]=this["webpackJsonpdingonft-frontend"]||[]).push([[0],{162:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(5),c=n(8),s=n.n(c),i=n(172),l=n(173),o=n(119),u=n(10),d=n(174),j=n(0),b=n.n(j),x=n(35),h=n(163),f=n(118),p=n.n(f),O=n(56),m=n.n(O),v=n(57),g=n.n(v),N=n(164),y=n.n(N),w=n(33),T=n(21),k=n(1),S=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result.split(",")[1])},a.onerror=function(e){return n(e)}}))};t.a=function(){var t=b.a.useState(null),n=Object(r.a)(t,2),c=n[0],j=n[1],f=b.a.useState(""),O=Object(r.a)(f,2),v=O[0],N=O[1],C=b.a.useState("1000"),F=Object(r.a)(C,2),I=F[0],B=F[1],E=b.a.useState(0),A=Object(r.a)(E,2),L=A[0],R=A[1],P=b.a.useState(""),D=Object(r.a)(P,2),G=D[0],q=D[1],V=b.a.useState(""),K=Object(r.a)(V,2),M=K[0],H=K[1],z=b.a.useState(null),J=Object(r.a)(z,2),U=J[0],Y=J[1],W=b.a.useState(""),$=Object(r.a)(W,2),_=$[0],Q=$[1],X=b.a.useState(""),Z=Object(r.a)(X,2),ee=Z[0],te=Z[1],ne=b.a.useState(null),ae=Object(r.a)(ne,2),re=ae[0],ce=ae[1],se=b.a.useState(null),ie=Object(r.a)(se,2),le=ie[0],oe=ie[1];b.a.useEffect((function(){null!==c?c.size>1e6?N("NFT content size limit exceeded (max 1 MB)"):N(""):N("NFT content required")}),[c]),b.a.useEffect((function(){Object(a.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===U){t.next=9;break}return t.t0=e,t.next=4,S(U);case 4:t.t1=t.sent,n=t.t0.from.call(t.t0,t.t1,"base64"),Object(h.a)(n)?U.size>1e7?Q("Cover file size limit exceeded (max 100 KB)"):256!==p()(n).width||256!==p()(n).height?Q("Cover image must have dimension 256x256"):Q(""):Q("Cover image must be a PNG"),t.next=10;break;case 9:Q("Cover image required");case 10:case"end":return t.stop()}}),t)})))()}),[U]);var ue=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.t0=w.d,e.t1=g.a,e.t2=m.a,e.t3=y.a,e.next=9,S(c);case 9:return e.t4=e.sent,e.t5=e.t3.parse.call(e.t3,e.t4),e.t6=(0,e.t2)(e.t5),e.t7=e.t1.stringify.call(e.t1,e.t6),e.t8=Object(T.c)(I),e.t9=25+Math.floor(75*L/100),e.t10={contentHash:e.t7,price:e.t8,royalty:e.t9},e.next=18,(0,e.t0)(e.t10);case 18:if(null!==(n=e.sent)&&!("error"in n)){e.next=21;break}return e.abrupt("return");case 21:return e.next=23,window.dingo.requestSignTransaction([],n.vouts);case 23:return a=e.sent.result,e.t11=w.f,e.next=27,S(c);case 27:if(e.t12=e.sent,null!==U){e.next=32;break}e.t13=null,e.next=35;break;case 32:return e.next=34,S(U);case 34:e.t13=e.sent;case 35:return e.t14=e.t13,e.t15=G,e.t16=M,e.t17=ee,e.t18=a,e.t19={content:e.t12,preview:e.t14,name:e.t15,description:e.t16,tags:e.t17,transaction:e.t18},e.next=43,(0,e.t11)(e.t19);case 43:if(null!==(r=e.sent)&&!("error"in n)){e.next=46;break}return e.abrupt("return");case 46:ce(!0),oe(r.address);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)(i.a,{className:"App-header",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)("h1",{className:"mt-4",children:"Create NFT"}),Object(k.jsx)(x.a,{})]})}),Object(k.jsx)(i.a,{children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(o.a,{children:[(null===re||!1===re)&&Object(k.jsxs)(u.a,{onSubmit:ue,children:[Object(k.jsxs)(u.a.Group,{className:"mb-3 mt-4",children:[Object(k.jsx)(u.a.Label,{children:Object(k.jsx)("b",{children:"Cover image (*required)"})}),Object(k.jsx)(u.a.Control,{type:"file",onChange:function(e){return Y(e.target.files[0])},isInvalid:null!==_&&""!==_,isValid:""===_}),_&&Object(k.jsx)("div",{children:Object(k.jsx)(u.a.Text,{className:"input-error",children:_})}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"A 256x256 PNG cover image for your NFT (max 100 KB). You can't change this after creating the NFT."})]}),Object(k.jsxs)(u.a.Group,{className:"mb-3",children:[Object(k.jsx)(u.a.Label,{children:Object(k.jsx)("b",{children:"Content (*required)"})}),Object(k.jsx)(u.a.Control,{type:"file",onChange:function(e){return j(e.target.files[0])},isInvalid:null!==v&&""!==v,isValid:""===v}),v&&Object(k.jsx)("div",{children:Object(k.jsx)(u.a.Text,{className:"input-error",children:v})}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"This file can only be viewed by the latest owner. The NFT will be locked uniquely to it - you can only use it once (max 1 MB)."})]}),Object(k.jsxs)(u.a.Group,{className:"mb-3",children:[Object(k.jsx)(u.a.Label,{children:"Name (optional)"}),Object(k.jsx)(u.a.Control,{type:"text",value:G,placeholder:"Max 40 characters",onChange:function(e){return q(e.target.value)},isValid:""!==G&&G.length<=40,isInvalid:""!==G&&G.length>40}),G.length>40&&Object(k.jsx)("div",{children:Object(k.jsx)(u.a.Text,{className:"input-error",children:"Name too long"})}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"You can't change this after creating the NFT."})]}),Object(k.jsxs)(u.a.Group,{className:"mb-3",children:[Object(k.jsx)(u.a.Label,{children:"Description (optional)"}),Object(k.jsx)(u.a.Control,{type:"text",value:M,placeholder:"Max 500 characters",onChange:function(e){return H(e.target.value)},isValid:""!==M&&M.length<=500,isInvalid:""!==M&&M.length>500}),M.length>500&&Object(k.jsx)("div",{children:Object(k.jsx)(u.a.Text,{className:"input-error",children:"Description long"})}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"You can't change this after creating the NFT."})]}),Object(k.jsxs)(u.a.Group,{className:"mb-3",children:[Object(k.jsx)(u.a.Label,{children:"Tags (optional)"}),Object(k.jsx)(u.a.Control,{type:"text",value:ee,placeholder:"Max 100 characters; space separated",onChange:function(e){return te(e.target.value)},isValid:""!==ee&&ee.length<=100,isInvalid:""!==ee&&ee.length>100}),ee.length>100&&Object(k.jsx)("div",{children:Object(k.jsx)(u.a.Text,{className:"input-error",children:"Tags long"})}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"You can't change this after creating the NFT."})]}),Object(k.jsxs)(u.a.Group,{className:"mb-3 mt-2",children:[Object(k.jsx)(u.a.Label,{children:Object(k.jsx)("b",{children:"Listing price (*required)"})}),Object(k.jsx)(u.a.Control,{type:"text",value:I,onChange:function(e){e.target.value.match(/^[0-9]+$/)&&parseInt(e.target.value)>=1?B(e.target.value):B("1000")}}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"Initial selling price for your NFT in DINGO (min. 1 DINGO)."})]}),Object(k.jsxs)(u.a.Group,{className:"mb-3",children:[Object(k.jsxs)(u.a.Label,{children:[Object(k.jsx)("b",{children:"Creator royalty (*required): "}),(2.5+Math.floor(75*L/100)/10).toFixed(1)+"%"]}),Object(k.jsx)(u.a.Range,{value:L,onChange:function(e){return R(e.target.value)}}),Object(k.jsx)(u.a.Text,{className:"text-muted",children:"Royalty paid to you for every transaction of this NFT."})]}),Object(k.jsx)("div",{style:{textAlign:"center"},children:null===re&&Object(k.jsx)(d.a,{className:"popup-button mt-4 px-4",variant:"primary",type:"submit",disabled:null===c||""!==v||null!==U&&""!==_,children:"Create NFT"})})]}),!0===re&&Object(k.jsxs)("div",{style:{textAlign:"center"},children:[" ",Object(k.jsx)("h3",{children:"NFT Created!"}),Object(k.jsxs)("p",{children:["NFT Address: ",Object(k.jsx)("b",{children:le})]}),Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsx)("a",{href:"/nft?address="+le,children:Object(k.jsx)(d.a,{className:"popup-button px-4",variant:"primary",children:"View NFT \u25ba"})})})]})]})})})]})}}).call(this,n(12).Buffer)},179:function(e,t,n){},197:function(e,t){},203:function(e,t){},207:function(e,t){},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(15),r=n(8),c=n.n(r),s=n(165),i=n.n(s),l=function(e){if(null===e||void 0===e||"string"!==typeof e||""===e)throw new Error("Expected string input");return(BigInt(i.a.toWei(e,"gwei"))/10n).toString()},o=function(e){var t=BigInt(e)<0n;t&&(e=-e);var n=(BigInt(e)/100000000n).toString();return(t?"-":"")+"".concat(n.replace(/\B(?=(\d{3})+(?!\d))/g,","))},u=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,setTimeout((function(){return a.abort()}),5e3),e.next=4,fetch(t,{withCredentials:!0,method:"POST",signal:a.signal,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},210:function(e,t){},221:function(e,t){},251:function(e,t){},253:function(e,t){},264:function(e,t){},266:function(e,t){},279:function(e,t){},281:function(e,t){},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),s=n.n(c),i=n(5),l=(n(179),n(162)),o=n(15),u=n(8),d=n.n(u),j=function(e){var t=new AbortController;return setTimeout((function(){return t.abort()}),5e3),fetch(e,{withCredentials:!0,method:"GET",signal:t.signal})},b=function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat("https://ewr1.vultrobjects.com/dingo-nftc-test-meta","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","".concat("https://ewr1.vultrobjects.com/dingo-nftc-test-preview","/").concat(t,".png"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat("https://ewr1.vultrobjects.com/dingo-nftc-test-state","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat("https://ewr1.vultrobjects.com/dingo-nftc-test-profile","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat("https://ewr1.vultrobjects.com/dingo-nftc-test-explore","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(303),m=n(21),v=n(1);var g=function(e){var t=r.a.useRef(),n=r.a.useState(!1),a=Object(i.a)(n,2),c=a[0],s=a[1],l=r.a.useState(null),u=Object(i.a)(l,2),j=u[0],f=u[1],p=r.a.useState(null),g=Object(i.a)(p,2),N=g[0],y=g[1],w=r.a.useState(null),T=Object(i.a)(w,2),k=T[0],S=T[1];return r.a.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&s(!0)}))}));return e.observe(t.current),function(){try{e.unobserve(t.current)}catch(n){}}}),[]),r.a.useEffect((function(){Object(o.a)(d.a.mark((function t(){var n,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=13;break}return t.next=3,b(e.address);case 3:return n=t.sent,t.next=6,x(e.address);case 6:return a=t.sent,t.next=9,h(e.address);case 9:r=t.sent,f(a),y(null===n?null:n.name),S(null===r?null:r.price);case 13:case"end":return t.stop()}}),t)})))()}),[e.address,c]),Object(v.jsxs)(O.a,{className:"nft-card floating-borders floating-borders-press",ref:t,children:[Object(v.jsxs)("div",{className:"header-box",children:[Object(v.jsx)("div",{className:"spinner",children:Object(v.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(v.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(v.jsx)(O.a.Img,{variant:"top",src:j,loading:"lazy"})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)(O.a.Title,{children:null===N?"-":""===N?"Unnamed NFT":N}),Object(v.jsx)(O.a.Subtitle,{children:e.address}),Object(v.jsxs)(O.a.Text,{children:[Object(v.jsx)("span",{className:"card-price",children:null===k?"-":Object(m.b)(k)}),Object(v.jsx)("br",{}),Object(v.jsx)("span",{className:"card-price-subtitle",children:"DINGO"})]})]})]})},N=n(172),y=n(173),w=n(10),T=n(174),k=n(35),S=n(56),C=n.n(S),F=n(57),I=n.n(F),B=n(33);var E=function(){var e=r.a.useState(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.a.useState(null),s=Object(i.a)(c,2),l=s[0],u=s[1],j=r.a.useState(null),x=Object(i.a)(j,2),p=x[0],O=x[1],S=r.a.useState(null),F=Object(i.a)(S,2),E=F[0],A=F[1],L=r.a.useState(null),R=Object(i.a)(L,2),P=R[0],D=R[1],G=r.a.useState(void 0),q=Object(i.a)(G,2),V=q[0],K=q[1],M=r.a.useState(""),H=Object(i.a)(M,2),z=H[0],J=H[1],U=r.a.useState(""),Y=Object(i.a)(U,2),W=Y[0],$=Y[1],_=r.a.useState(null),Q=Object(i.a)(_,2),X=Q[0],Z=Q[1];r.a.useEffect((function(){a(new URLSearchParams(window.location.search).get("address"))}),[]),r.a.useEffect((function(){""===z?$("Resell price required"):null!==p&&BigInt(Object(m.c)(z))>BigInt(10)*BigInt(p.price)?$("Resell price must be at most 10x the current price"):$("")}),[z,p]),r.a.useEffect((function(){null!==n&&Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,b(n);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=7,h(n);case 7:return t=e.sent,O(t),e.t2=K,e.next=12,Object(B.a)({address:n});case 12:if(e.t3=e.sent,(0,e.t2)(e.t3),null===t){e.next=25;break}return e.t4=A,e.next=18,f(t.owner);case 18:return e.t5=e.sent,(0,e.t4)(e.t5),e.t6=D,e.next=23,f(t.creator);case 23:e.t7=e.sent,(0,e.t6)(e.t7);case 25:case"end":return e.stop()}}),e)})))()}),[n]);var ee=function(){var e=Object(o.a)(d.a.mark((function e(t){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),a=Date.now(),r="".concat(n,"|").concat(a),e.next=6,window.dingo.requestSign(I.a.stringify(C()(r)));case 6:if(void 0===(c=e.sent).error){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Object(B.c)({address:n,timestamp:a,signature:c.result});case 11:if(null!==(s=e.sent)&&void 0===s.error){e.next=14;break}return e.abrupt("return");case 14:void 0!==s.content&&window.open(s.content);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(d.a.mark((function e(t){var a,r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.next=4,Object(B.b)({address:n,price:Object(m.c)(z)});case 4:return a=e.sent,r=a.vins,c=a.vouts,e.next=9,window.dingo.requestSignTransaction(r,c);case 9:return s=e.sent.result,e.next=12,Object(B.e)({transaction:s});case 12:i=e.sent,Z(i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)(N.a,{className:"justify-content-md-center",children:[Object(v.jsxs)(y.a,{children:[Object(v.jsx)("div",{className:"cards-container",children:Object(v.jsx)(g,{address:n})}),null!==l&&null!==l.description&&""!==l.description&&Object(v.jsx)("p",{className:"text-center mt-4",children:Object(v.jsx)("i",{children:l.description})})]}),Object(v.jsx)(k.a,{}),Object(v.jsxs)(y.a,{className:"text-center",children:[Object(v.jsx)("h3",{children:"Owner"}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{className:"simple-link",href:null===p?"":"/profile?address=".concat(p.owner),children:null===E||null===E.name||""===E.name?null===p?"-":p.owner:E.name})}),Object(v.jsx)("h3",{className:"mt-2",children:"Creator"}),Object(v.jsx)("a",{className:"simple-link",href:null===p?"":"/profile?address=".concat(p.creator),children:null===P||null===P.name||""===P.name?null===p?"-":p.creator:P.name}),void 0!==p&&null!==p&&Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{className:"mt-4",children:"Hidden Content"}),Object(v.jsx)("div",{className:"clickable mb-2",onClick:ee,style:{display:"inline"},children:"(Verify and view)"})]})]}),Object(v.jsx)(k.a,{}),void 0!==V&&null!==V&&Object(v.jsxs)(y.a,{className:"justify-content-md-center mt-2 text-center",children:[Object(v.jsx)("h2",{children:"Buy NFT"}),Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h5",{children:"NFT busy"}),Object(v.jsxs)("p",{children:[Object(v.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+V.txid,rel:"noreferrer",target:"_blank",children:"A transaction"})," ","is currenly being confirmed for this NFT. ",Object(v.jsx)("br",{}),"Please try again in a few minutes."]})]})]}),void 0!==V&&null===V&&Object(v.jsxs)(y.a,{className:"justify-content-md-center mt-2 text-center",children:[Object(v.jsx)("h2",{children:"Buy NFT"}),null==X&&Object(v.jsxs)(N.a,{className:"justify-content-md-center",children:[Object(v.jsx)(y.a,{className:"mx-auto",style:{maxWidth:"35rem"},children:Object(v.jsxs)(w.a.Group,{className:"mb-3 mt-3",children:[Object(v.jsx)(w.a.Label,{children:Object(v.jsx)("b",{children:"Resell at (*required)"})}),Object(v.jsx)(w.a.Control,{type:"text",value:z,onChange:function(e){e.target.value.match(/^[0-9]*$/)&&J(e.target.value)},style:{textAlign:"center"},isInvalid:""!==W}),W&&Object(v.jsx)("div",{children:Object(v.jsx)(w.a.Text,{className:"input-error",children:W})}),Object(v.jsx)(w.a.Text,{className:"text-muted",children:"New price you want to sell this NFT for (min. 1 Dingocoin)."})]})}),Object(v.jsx)(y.a,{children:Object(v.jsx)(T.a,{className:"popup-button mb-4 mx-auto px-4",style:{width:"auto"},onClick:te,disabled:""!==W,children:"Buy and Resell NFT"})})]}),null!==X&&void 0===X.error&&Object(v.jsx)(N.a,{children:Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h4",{children:"Transaction submitted!"}),Object(v.jsxs)("p",{children:["Transaction ID:"," ",Object(v.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+X.txid,rel:"noreferrer",target:"_blank",children:X.txid}),Object(v.jsx)("br",{}),"It may take a few minutes for your transaction to be confirmed."]})]})}),null!==X&&void 0!==X.error&&Object(v.jsx)(N.a,{children:Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h4",{children:"Transaction failed!"}),Object(v.jsx)("p",{children:"You can't buy this NFT as its owner/creator."})]})})]})]})})},A=n(300),L=n(304),R=n(302);var P=function(){var e=r.a.useState(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.a.useState(null),s=Object(i.a)(c,2),l=s[0],u=s[1],j=r.a.useState(""),b=Object(i.a)(j,2),x=b[0],h=b[1],p=r.a.createRef(),O=r.a.useState(null),m=Object(i.a)(O,2),S=m[0],F=m[1];r.a.useEffect((function(){a(new URLSearchParams(window.location.search).get("address"))}),[]),r.a.useEffect((function(){null!==n&&(document.title="Profile | ".concat(n),Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:t=e.sent,F(t),null!==t&&(null===t.name?h(""):h(t.name));case 5:case"end":return e.stop()}}),e)})))())}),[n]);var E=function(){var e=Object(o.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),a={timestamp:Date.now(),owner:n,name:null===x||""===x?null:x},r=JSON.stringify(a),console.log(r),e.next=8,window.dingo.requestSign(I.a.stringify(C()(r)));case 8:if(void 0===(c=e.sent).error){e.next=11;break}return e.abrupt("return");case 11:return a.signature=c.result,e.next=14,Object(B.g)(a);case 14:if(!("error"in e.sent)){e.next=17;break}return e.abrupt("return");case 17:window.location.reload(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsx)(N.a,{className:"App-header",children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)("h1",{className:"mt-4",children:null===S?"-":""===S.name||null===S.name?"Unnamed Profile":S.name}),Object(v.jsx)("h6",{children:n}),Object(v.jsx)("p",{children:Object(v.jsx)("span",{children:Object(v.jsx)("div",{className:"clickable",style:{display:"inline"},onClick:function(){return u(!0)},children:"(Edit)"})})}),Object(v.jsx)(k.a,{})]})}),Object(v.jsxs)(A.a,{defaultActiveKey:null===S||0===S.createdNfts.length?"owned":"created",className:"justify-content-center",variant:"pills",children:[Object(v.jsx)(L.a,{eventKey:"created",title:"NFT Creations",children:null!==S&&Object(v.jsx)("ul",{className:"cards-container",children:S.createdNfts.map((function(e){return Object(v.jsx)("a",{href:"/nft?address=".concat(e),children:Object(v.jsx)(g,{address:e},e)})}))})}),Object(v.jsx)(L.a,{eventKey:"owned",title:"Owned NFTs",children:null!==S&&Object(v.jsx)("ul",{className:"cards-container",children:S.ownedNfts.map((function(e){return Object(v.jsx)("a",{href:"/nft?address=".concat(e),children:Object(v.jsx)(g,{address:e},e)})}))})})]}),Object(v.jsxs)(R.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:l,onHide:function(){return u(!1)},onEntered:function(){return p.current.focus()},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Edit profile"})}),Object(v.jsx)(R.a.Body,{children:Object(v.jsxs)(w.a,{onSubmit:E,children:[Object(v.jsxs)(w.a.Group,{className:"mb-3",children:[Object(v.jsx)(w.a.Label,{children:"Profile name (leave blank if no change)"}),Object(v.jsx)(w.a.Control,{type:"text",value:x,placeholder:"Max 40 characters",onChange:function(e){return h(e.target.value)},isValid:""!==x&&x.length<=40,isInvalid:""!==x&&x.length>40,ref:p}),x.length>40&&Object(v.jsx)("div",{children:Object(v.jsx)(w.a.Text,{className:"input-error",children:"Name too long"})})]}),Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(T.a,{className:"popup-button mb-3 mt-3 px-4",variant:"primary",type:"submit",children:"Verify and update profile"})})]})})]})]})};var D=function(){var e=r.a.useState(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.a.useState(null),s=Object(i.a)(c,2),l=s[0],u=s[1];return r.a.useEffect((function(){document.title="Explore NFTs",Object(o.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("new");case 2:return t=e.sent,e.next=5,p("volume");case 5:n=e.sent,a(t),u(n);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(N.a,{className:"App-header",children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)("h1",{className:"mt-4",children:"Explore NFTs"}),Object(v.jsx)(k.a,{})]})}),Object(v.jsxs)(A.a,{defaultActiveKey:"volume",className:"justify-content-center",variant:"pills",children:[Object(v.jsx)(L.a,{eventKey:"volume",title:"Hot NFTS",children:null!==l&&Object(v.jsx)("ul",{className:"cards-container",children:l.map((function(e){return Object(v.jsx)("a",{href:"/nft?address=".concat(e),children:Object(v.jsx)(g,{address:e},e)})}))})}),Object(v.jsx)(L.a,{eventKey:"new",title:"New Listings",children:null!==n&&Object(v.jsx)("ul",{className:"cards-container",children:n.map((function(e){return Object(v.jsx)("a",{href:"/nft?address=".concat(e),children:Object(v.jsx)(g,{address:e},e)})}))})})]})]})},G=n(301),q=n(171),V=n(166),K=n(82),M=n(83),H=n.p+"static/media/dingocoin.15331900.png",z=n(168),J=n(9);var U=function(){var e=r.a.useState(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){a(window.location.pathname)}),[]),r.a.useEffect((function(){}),[n]),Object(v.jsx)(z.a,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(G.a,{className:"navbar",bg:"dark",expand:"lg",sticky:"top",children:Object(v.jsxs)(N.a,{children:[Object(v.jsxs)(G.a.Brand,{href:"/",className:"navbar-brand align-items-center",children:[Object(v.jsx)("img",{alt:"",src:H}),Object(v.jsx)("span",{children:"DINGOCOIN"}),Object(v.jsx)("span",{className:"navbar-brand-subtitle",children:" NFT Platform"})]}),Object(v.jsx)(G.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsxs)(G.a.Collapse,{children:[Object(v.jsxs)(q.a,{className:"ms-auto",style:{paddingRight:"1.5rem"},children:[Object(v.jsx)(q.a.Link,{href:"/explore",children:"Explore NFTs"}),Object(v.jsx)(q.a.Link,{href:"/create",children:"Create"})]}),Object(v.jsxs)(w.a,{className:"d-flex",children:[Object(v.jsx)(V.a,{type:"search",placeholder:"Jump to NFT/profile address...","aria-label":"Search",style:{borderTopRightRadius:"0",borderBottomRightRadius:"0",minWidth:"20rem"}}),Object(v.jsx)(T.a,{variant:"secondary mx-0",style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},type:"submit",children:Object(v.jsx)(K.a,{icon:M.b})})]})]})]})}),Object(v.jsx)("section",{className:"section-content",children:Object(v.jsxs)(J.c,{children:[Object(v.jsx)(J.a,{path:"/create",element:Object(v.jsx)(l.a,{})}),Object(v.jsx)(J.a,{path:"/profile",element:Object(v.jsx)(P,{})}),Object(v.jsx)(J.a,{path:"/nft",element:Object(v.jsx)(E,{})}),Object(v.jsx)(J.a,{path:"/explore",element:Object(v.jsx)(D,{})})]})}),Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"justify-content-center section-footer align-items-center",children:Object(v.jsx)("h6",{children:"Copyright \xa9 The Dingocoin Project 2021-2022"})})})]})})},Y=n(170),W=n.n(Y);s.a.render(Object(v.jsx)(W.a,{children:Object(v.jsx)(U,{})}),document.getElementById("root"))},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return x}));var a=n(15),r=n(8),c=n.n(r),s=n(21),i="https://nftp0.dingocoin.io",l=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)("".concat(i,"/nft/getBusy"),{address:t.address});case 2:if(null!==(n=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",n.busy);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){return Object(s.a)("".concat(i,"/nft/getContent"),{address:e.address,timestamp:e.timestamp,signature:e.signature})},u=function(e){return Object(s.a)("".concat(i,"/nft/getBuyTransaction"),{address:e.address,price:e.price})},d=function(e){return Object(s.a)("".concat(i,"/nft/sendBuyTransaction"),{transaction:e.transaction})},j=function(e){return Object(s.a)("".concat(i,"/nft/getListTransaction"),{contentHash:e.contentHash,price:e.price,royalty:e.royalty})},b=function(e){return Object(s.a)("".concat(i,"/nft/sendListTransaction"),{content:e.content,preview:e.preview,name:e.name,description:e.description,tags:e.tags,transaction:e.transaction})},x=function(e){return Object(s.a)("".concat(i,"/profile/update"),{timestamp:e.timestamp,owner:e.owner,name:e.name,signature:e.signature})}},35:function(e,t,n){"use strict";var a=n(82),r=n(83),c=n(1);t.a=function(){return Object(c.jsxs)("div",{className:"divider-custom",children:[Object(c.jsx)("div",{className:"divider-custom-line mt-2 mb-2"}),Object(c.jsx)("div",{className:"divider-custom-icon mt-2 mb-2",children:Object(c.jsx)(a.a,{icon:r.a})}),Object(c.jsx)("div",{className:"divider-custom-line mt-2 mb-2"})]})}}},[[297,1,2]]]);
//# sourceMappingURL=main.ab6e5536.chunk.js.map