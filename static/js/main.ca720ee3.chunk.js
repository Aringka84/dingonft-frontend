(this["webpackJsonpdingonft-frontend"]=this["webpackJsonpdingonft-frontend"]||[]).push([[0],{162:function(e,t,n){"use strict";(function(e){var r=n(15),a=n(5),c=n(8),s=n.n(c),i=n(172),l=n(173),u=n(119),o=n(10),j=n(174),d=n(0),b=n.n(d),x=n(35),h=n(163),f=n(118),p=n.n(f),O=n(56),m=n.n(O),v=n(57),g=n.n(v),N=n(164),y=n.n(N),w=n(33),T=n(21),k=n(1),S=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result.split(",")[1])},r.onerror=function(e){return n(e)}}))};t.a=function(){var t=b.a.useState(null),n=Object(a.a)(t,2),c=n[0],d=n[1],f=b.a.useState(""),O=Object(a.a)(f,2),v=O[0],N=O[1],C=b.a.useState("1000"),F=Object(a.a)(C,2),I=F[0],B=F[1],E=b.a.useState(0),A=Object(a.a)(E,2),L=A[0],R=A[1],P=b.a.useState(""),D=Object(a.a)(P,2),G=D[0],q=D[1],V=b.a.useState(""),K=Object(a.a)(V,2),M=K[0],H=K[1],z=b.a.useState(null),J=Object(a.a)(z,2),U=J[0],Y=J[1],W=b.a.useState(""),$=Object(a.a)(W,2),_=$[0],Q=$[1],X=b.a.useState(""),Z=Object(a.a)(X,2),ee=Z[0],te=Z[1],ne=b.a.useState(null),re=Object(a.a)(ne,2),ae=re[0],ce=re[1],se=b.a.useState(null),ie=Object(a.a)(se,2),le=ie[0],ue=ie[1];b.a.useEffect((function(){null!==c?c.size>1e7?N("NFT content size limit exceeded (max 10 MB)"):N(""):N("NFT content required")}),[c]),b.a.useEffect((function(){Object(r.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===U){t.next=9;break}return t.t0=e,t.next=4,S(U);case 4:t.t1=t.sent,n=t.t0.from.call(t.t0,t.t1,"base64"),Object(h.a)(n)?U.size>1e7?Q("Cover file size limit exceeded (max 100 KB)"):256!==p()(n).width||256!==p()(n).height?Q("Cover image must have dimension 256x256"):Q(""):Q("Cover image must be a PNG"),t.next=10;break;case 9:Q("Cover image required");case 10:case"end":return t.stop()}}),t)})))()}),[U]);var oe=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.t0=w.d,e.t1=g.a,e.t2=m.a,e.t3=y.a,e.next=9,S(c);case 9:return e.t4=e.sent,e.t5=e.t3.parse.call(e.t3,e.t4),e.t6=(0,e.t2)(e.t5),e.t7=e.t1.stringify.call(e.t1,e.t6),e.t8=Object(T.c)(I),e.t9=25+Math.floor(75*L/100),e.t10={contentHash:e.t7,price:e.t8,royalty:e.t9},e.next=18,(0,e.t0)(e.t10);case 18:if(null!==(n=e.sent)&&!("error"in n)){e.next=21;break}return e.abrupt("return");case 21:return e.next=23,window.dingo.requestSignTransaction([],n.vouts);case 23:return r=e.sent.result,e.t11=w.f,e.next=27,S(c);case 27:if(e.t12=e.sent,null!==U){e.next=32;break}e.t13=null,e.next=35;break;case 32:return e.next=34,S(U);case 34:e.t13=e.sent;case 35:return e.t14=e.t13,e.t15=G,e.t16=M,e.t17=ee,e.t18=r,e.t19={content:e.t12,preview:e.t14,name:e.t15,description:e.t16,tags:e.t17,transaction:e.t18},e.next=43,(0,e.t11)(e.t19);case 43:if(null!==(a=e.sent)&&!("error"in n)){e.next=46;break}return e.abrupt("return");case 46:ce(!0),ue(a.address);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)(i.a,{className:"App-header",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)("h1",{className:"mt-4",children:"Create NFT"}),Object(k.jsx)(x.a,{})]})}),Object(k.jsx)(i.a,{children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(u.a,{children:[(null===ae||!1===ae)&&Object(k.jsxs)(o.a,{onSubmit:oe,children:[Object(k.jsxs)(o.a.Group,{className:"mb-3 mt-4",children:[Object(k.jsx)(o.a.Label,{children:Object(k.jsx)("b",{children:"Cover image (*required)"})}),Object(k.jsx)(o.a.Control,{type:"file",onChange:function(e){return Y(e.target.files[0])},isInvalid:null!==_&&""!==_,isValid:""===_}),_&&Object(k.jsx)("div",{children:Object(k.jsx)(o.a.Text,{className:"input-error",children:_})}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"A 256x256 PNG cover image for your NFT (max 100 KB). You can't change this after creating the NFT."})]}),Object(k.jsxs)(o.a.Group,{className:"mb-3",children:[Object(k.jsx)(o.a.Label,{children:Object(k.jsx)("b",{children:"Content (*required)"})}),Object(k.jsx)(o.a.Control,{type:"file",onChange:function(e){return d(e.target.files[0])},isInvalid:null!==v&&""!==v,isValid:""===v}),v&&Object(k.jsx)("div",{children:Object(k.jsx)(o.a.Text,{className:"input-error",children:v})}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"This file can only be viewed by the latest owner. The NFT will be locked uniquely to it - you can only use it once (max 10 MB)."})]}),Object(k.jsxs)(o.a.Group,{className:"mb-3",children:[Object(k.jsx)(o.a.Label,{children:"Name (optional)"}),Object(k.jsx)(o.a.Control,{type:"text",value:G,placeholder:"Max 40 characters",onChange:function(e){return q(e.target.value)},isValid:""!==G&&G.length<=40,isInvalid:""!==G&&G.length>40}),G.length>40&&Object(k.jsx)("div",{children:Object(k.jsx)(o.a.Text,{className:"input-error",children:"Name too long"})}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"You can't change this after creating the NFT."})]}),Object(k.jsxs)(o.a.Group,{className:"mb-3",children:[Object(k.jsx)(o.a.Label,{children:"Description (optional)"}),Object(k.jsx)(o.a.Control,{type:"text",value:M,placeholder:"Max 500 characters",onChange:function(e){return H(e.target.value)},isValid:""!==M&&M.length<=500,isInvalid:""!==M&&M.length>500}),M.length>500&&Object(k.jsx)("div",{children:Object(k.jsx)(o.a.Text,{className:"input-error",children:"Description long"})}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"You can't change this after creating the NFT."})]}),Object(k.jsxs)(o.a.Group,{className:"mb-3",children:[Object(k.jsx)(o.a.Label,{children:"Tags (optional)"}),Object(k.jsx)(o.a.Control,{type:"text",value:ee,placeholder:"Max 100 characters; space separated",onChange:function(e){return te(e.target.value)},isValid:""!==ee&&ee.length<=100,isInvalid:""!==ee&&ee.length>100}),ee.length>100&&Object(k.jsx)("div",{children:Object(k.jsx)(o.a.Text,{className:"input-error",children:"Tags long"})}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"You can't change this after creating the NFT."})]}),Object(k.jsxs)(o.a.Group,{className:"mb-3 mt-2",children:[Object(k.jsx)(o.a.Label,{children:Object(k.jsx)("b",{children:"Listing price (*required)"})}),Object(k.jsx)(o.a.Control,{type:"text",value:I,onChange:function(e){e.target.value.match(/^[0-9]+$/)&&parseInt(e.target.value)>=1?B(e.target.value):B("1000")}}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"Initial selling price for your NFT in DINGO (min. 1 DINGO)."})]}),Object(k.jsxs)(o.a.Group,{className:"mb-3",children:[Object(k.jsxs)(o.a.Label,{children:[Object(k.jsx)("b",{children:"Creator royalty (*required): "}),(2.5+Math.floor(75*L/100)/10).toFixed(1)+"%"]}),Object(k.jsx)(o.a.Range,{value:L,onChange:function(e){return R(e.target.value)}}),Object(k.jsx)(o.a.Text,{className:"text-muted",children:"Royalty paid to you for every transaction of this NFT."})]}),Object(k.jsx)("div",{style:{textAlign:"center"},children:null===ae&&Object(k.jsx)(j.a,{className:"popup-button mt-4 px-4",variant:"primary",type:"submit",disabled:null===c||""!==v||null!==U&&""!==_,children:"Create NFT"})})]}),!0===ae&&Object(k.jsxs)("div",{style:{textAlign:"center"},children:[" ",Object(k.jsx)("h3",{children:"NFT Created!"}),Object(k.jsxs)("p",{children:["NFT Address: ",Object(k.jsx)("b",{children:le})]}),Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsx)("a",{href:"/nft?address="+le,children:Object(k.jsx)(j.a,{className:"popup-button px-4",variant:"primary",children:"View NFT \u25ba"})})})]})]})})})]})}}).call(this,n(12).Buffer)},179:function(e,t,n){},197:function(e,t){},203:function(e,t){},207:function(e,t){},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(15),a=n(8),c=n.n(a),s=n(165),i=n.n(s),l=function(e){if(null===e||void 0===e||"string"!==typeof e||""===e)throw new Error("Expected string input");return(BigInt(i.a.toWei(e,"gwei"))/10n).toString()},u=function(e){var t=BigInt(e)<0n;t&&(e=-e);var n=(BigInt(e)/100000000n).toString();return(t?"-":"")+"".concat(n.replace(/\B(?=(\d{3})+(?!\d))/g,","))},o=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new AbortController,setTimeout((function(){return r.abort()}),3e4),e.next=4,fetch(t,{withCredentials:!0,method:"POST",signal:r.signal,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},210:function(e,t){},221:function(e,t){},251:function(e,t){},253:function(e,t){},264:function(e,t){},266:function(e,t){},279:function(e,t){},281:function(e,t){},297:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),s=n.n(c),i=n(5),l=(n(179),n(162)),u=n(15),o=n(8),j=n.n(o),d=function(e){var t=new AbortController;return setTimeout((function(){return t.abort()}),5e3),fetch(e,{withCredentials:!0,method:"GET",signal:t.signal})},b=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("".concat("https://ewr1.vultrobjects.com/dingo-nftc-0-meta","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","".concat("https://ewr1.vultrobjects.com/dingo-nftc-0-preview","/").concat(t,".png"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("".concat("https://ewr1.vultrobjects.com/dingo-nftc-0-state","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("".concat("https://ewr1.vultrobjects.com/dingo-nftc-0-profile","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("".concat("https://ewr1.vultrobjects.com/dingo-nftc-0-profilelists","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("".concat("https://ewr1.vultrobjects.com/dingo-nftc-0-explore","/").concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=n(303),v=n(21),g=n(1);var N=function(e){var t=a.a.useRef(),n=a.a.useState(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],l=a.a.useState(null),o=Object(i.a)(l,2),d=o[0],f=o[1],p=a.a.useState(null),O=Object(i.a)(p,2),N=O[0],y=O[1],w=a.a.useState(null),T=Object(i.a)(w,2),k=T[0],S=T[1];return a.a.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&s(!0)}))}));return e.observe(t.current),function(){try{e.unobserve(t.current)}catch(n){}}}),[]),a.a.useEffect((function(){Object(u.a)(j.a.mark((function t(){var n,r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=13;break}return t.next=3,b(e.address);case 3:return n=t.sent,t.next=6,x(e.address);case 6:return r=t.sent,t.next=9,h(e.address);case 9:a=t.sent,f(r),y(null===n?null:n.name),S(null===a?null:a.price);case 13:case"end":return t.stop()}}),t)})))()}),[e.address,c]),Object(g.jsxs)(m.a,{className:"nft-card floating-borders floating-borders-press",ref:t,children:[Object(g.jsxs)("div",{className:"header-box",children:[Object(g.jsx)("div",{className:"spinner",children:Object(g.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(g.jsx)(m.a.Img,{variant:"top",src:d,loading:"lazy"})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(m.a.Body,{children:[Object(g.jsx)(m.a.Title,{children:null===N?"-":""===N?"Unnamed NFT":N}),Object(g.jsx)(m.a.Subtitle,{children:e.address}),Object(g.jsxs)(m.a.Text,{children:[Object(g.jsx)("span",{className:"card-price",children:null===k?"-":Object(v.b)(k)}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:"card-price-subtitle",children:"DINGO"})]})]})]})},y=n(172),w=n(173),T=n(10),k=n(174),S=n(35),C=n(56),F=n.n(C),I=n(57),B=n.n(I),E=n(33);var A=function(){var e=a.a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=a.a.useState(null),s=Object(i.a)(c,2),l=s[0],o=s[1],d=a.a.useState(null),x=Object(i.a)(d,2),p=x[0],O=x[1],m=a.a.useState(null),C=Object(i.a)(m,2),I=C[0],A=C[1],L=a.a.useState(null),R=Object(i.a)(L,2),P=R[0],D=R[1],G=a.a.useState(void 0),q=Object(i.a)(G,2),V=q[0],K=q[1],M=a.a.useState(""),H=Object(i.a)(M,2),z=H[0],J=H[1],U=a.a.useState(""),Y=Object(i.a)(U,2),W=Y[0],$=Y[1],_=a.a.useState(null),Q=Object(i.a)(_,2),X=Q[0],Z=Q[1];a.a.useEffect((function(){r(new URLSearchParams(window.location.search).get("address"))}),[]),a.a.useEffect((function(){""===z?$("Resell price required"):null!==p&&BigInt(Object(v.c)(z))>BigInt(10)*BigInt(p.price)?$("Resell price must be at most 10x the current price"):$("")}),[z,p]),a.a.useEffect((function(){null!==n&&Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,b(n);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=7,h(n);case 7:return t=e.sent,O(t),e.t2=K,e.next=12,Object(E.a)({address:n});case 12:if(e.t3=e.sent,(0,e.t2)(e.t3),null===t){e.next=25;break}return e.t4=A,e.next=18,f(t.owner);case 18:return e.t5=e.sent,(0,e.t4)(e.t5),e.t6=D,e.next=23,f(t.creator);case 23:e.t7=e.sent,(0,e.t6)(e.t7);case 25:case"end":return e.stop()}}),e)})))()}),[n]);var ee=function(){var e=Object(u.a)(j.a.mark((function e(t){var r,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),r=Date.now(),a="".concat(n,"|").concat(r),e.next=6,window.dingo.requestSign(B.a.stringify(F()(a)));case 6:if(void 0===(c=e.sent).error){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Object(E.c)({address:n,timestamp:r,signature:c.result});case 11:if(null!==(s=e.sent)&&void 0===s.error){e.next=14;break}return e.abrupt("return");case 14:void 0!==s.content&&window.open(s.content);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(j.a.mark((function e(t){var r,a,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.next=4,Object(E.b)({address:n,price:Object(v.c)(z)});case 4:return r=e.sent,a=r.vins,c=r.vouts,e.next=9,window.dingo.requestSignTransaction(a,c);case 9:return s=e.sent.result,e.next=12,Object(E.e)({transaction:s});case 12:i=e.sent,Z(i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)(y.a,{className:"justify-content-md-center",children:[Object(g.jsxs)(w.a,{children:[Object(g.jsx)("div",{className:"cards-container",children:Object(g.jsx)(N,{address:n})}),null!==l&&null!==l.description&&""!==l.description&&Object(g.jsx)("p",{className:"text-center mt-4",children:Object(g.jsx)("i",{children:l.description})})]}),Object(g.jsx)(S.a,{}),Object(g.jsxs)(w.a,{className:"text-center",children:[Object(g.jsx)("h3",{children:"Owner"}),Object(g.jsx)("p",{children:Object(g.jsx)("a",{className:"simple-link",href:null===p?"":"/profile?address=".concat(p.owner),children:null===I||null===I.name||""===I.name?null===p?"-":p.owner:I.name})}),Object(g.jsx)("h3",{className:"mt-2",children:"Creator"}),Object(g.jsx)("a",{className:"simple-link",href:null===p?"":"/profile?address=".concat(p.creator),children:null===P||null===P.name||""===P.name?null===p?"-":p.creator:P.name}),void 0!==p&&null!==p&&Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{className:"mt-4",children:"Hidden Content"}),Object(g.jsx)("div",{className:"clickable mb-2",onClick:ee,style:{display:"inline"},children:"(Verify and view)"})]})]}),Object(g.jsx)(S.a,{}),void 0!==V&&null!==V&&Object(g.jsxs)(w.a,{className:"justify-content-md-center mt-2 text-center",children:[Object(g.jsx)("h2",{children:"Buy NFT"}),Object(g.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(g.jsx)("h5",{children:"NFT busy"}),Object(g.jsxs)("p",{children:[Object(g.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+V.txid,rel:"noreferrer",target:"_blank",children:"A transaction"})," ","is currenly being confirmed for this NFT. ",Object(g.jsx)("br",{}),"Please try again in a few minutes."]})]})]}),void 0!==V&&null===V&&Object(g.jsxs)(w.a,{className:"justify-content-md-center mt-2 text-center",children:[Object(g.jsx)("h2",{children:"Buy NFT"}),null==X&&Object(g.jsxs)(y.a,{className:"justify-content-md-center",children:[Object(g.jsx)(w.a,{className:"mx-auto",style:{maxWidth:"35rem"},children:Object(g.jsxs)(T.a.Group,{className:"mb-3 mt-3",children:[Object(g.jsx)(T.a.Label,{children:Object(g.jsx)("b",{children:"Resell at (*required)"})}),Object(g.jsx)(T.a.Control,{type:"text",value:z,onChange:function(e){e.target.value.match(/^[0-9]*$/)&&J(e.target.value)},style:{textAlign:"center"},isInvalid:""!==W}),W&&Object(g.jsx)("div",{children:Object(g.jsx)(T.a.Text,{className:"input-error",children:W})}),Object(g.jsx)(T.a.Text,{className:"text-muted",children:"New price you want to sell this NFT for (min. 1 Dingocoin)."})]})}),Object(g.jsx)(w.a,{children:Object(g.jsx)(k.a,{className:"popup-button mb-4 mx-auto px-4",style:{width:"auto"},onClick:te,disabled:""!==W,children:"Buy and Resell NFT"})})]}),null!==X&&void 0===X.error&&Object(g.jsx)(y.a,{children:Object(g.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(g.jsx)("h4",{children:"Transaction submitted!"}),Object(g.jsxs)("p",{children:["Transaction ID:"," ",Object(g.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+X.txid,rel:"noreferrer",target:"_blank",children:X.txid}),Object(g.jsx)("br",{}),"It may take a few minutes for your transaction to be confirmed."]})]})}),null!==X&&void 0!==X.error&&Object(g.jsx)(y.a,{children:Object(g.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(g.jsx)("h4",{children:"Transaction failed!"}),Object(g.jsx)("p",{children:"You can't buy this NFT as its owner/creator."})]})})]})]})})},L=n(300),R=n(304),P=n(302);var D=function(){var e=a.a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=a.a.useState(null),s=Object(i.a)(c,2),l=s[0],o=s[1],d=a.a.useState(""),b=Object(i.a)(d,2),x=b[0],h=b[1],O=a.a.createRef(),m=a.a.useState(null),v=Object(i.a)(m,2),C=v[0],I=v[1],A=a.a.useState(null),D=Object(i.a)(A,2),G=D[0],q=D[1];a.a.useEffect((function(){r(new URLSearchParams(window.location.search).get("address"))}),[]),a.a.useEffect((function(){null!==n&&(document.title="Profile | ".concat(n),Object(u.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:return t=e.sent,e.next=5,p(n);case 5:r=e.sent,console.log(t),console.log(r),I(t),q(r),null!==t&&(null===t.name?h(""):h(t.name));case 11:case"end":return e.stop()}}),e)})))())}),[n]);var V=function(){var e=Object(u.a)(j.a.mark((function e(t){var r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r={timestamp:Date.now(),owner:n,name:null===x||""===x?null:x},a=JSON.stringify(r),console.log(a),e.next=8,window.dingo.requestSign(B.a.stringify(F()(a)));case 8:if(void 0===(c=e.sent).error){e.next=11;break}return e.abrupt("return");case 11:return r.signature=c.result,e.next=14,Object(E.g)(r);case 14:if(!("error"in e.sent)){e.next=17;break}return e.abrupt("return");case 17:window.location.reload(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)(y.a,{className:"App-header",children:Object(g.jsxs)(w.a,{children:[Object(g.jsx)("h1",{className:"mt-4",children:null===C?"-":""===C.name||null===C.name?"Unnamed Profile":C.name}),Object(g.jsx)("h6",{children:n}),Object(g.jsx)("p",{children:Object(g.jsx)("span",{children:Object(g.jsx)("div",{className:"clickable",style:{display:"inline"},onClick:function(){return o(!0)},children:"(Edit)"})})}),Object(g.jsx)(S.a,{})]})}),Object(g.jsxs)(L.a,{defaultActiveKey:null===G||0===G.createdNfts.length?"owned":"created",className:"justify-content-center",variant:"pills",children:[Object(g.jsx)(R.a,{eventKey:"created",title:"NFT Creations",children:null!==G&&Object(g.jsx)("ul",{className:"cards-container",children:G.createdNfts.map((function(e){return Object(g.jsx)("a",{href:"/nft?address=".concat(e),children:Object(g.jsx)(N,{address:e},e)})}))})}),Object(g.jsx)(R.a,{eventKey:"owned",title:"Owned NFTs",children:null!==G&&Object(g.jsx)("ul",{className:"cards-container",children:G.ownedNfts.map((function(e){return Object(g.jsx)("a",{href:"/nft?address=".concat(e),children:Object(g.jsx)(N,{address:e},e)})}))})})]}),Object(g.jsxs)(P.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:l,onHide:function(){return o(!1)},onEntered:function(){return O.current.focus()},children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Edit profile"})}),Object(g.jsx)(P.a.Body,{children:Object(g.jsxs)(T.a,{onSubmit:V,children:[Object(g.jsxs)(T.a.Group,{className:"mb-3",children:[Object(g.jsx)(T.a.Label,{children:"Profile name (leave blank if no change)"}),Object(g.jsx)(T.a.Control,{type:"text",value:x,placeholder:"Max 40 characters",onChange:function(e){return h(e.target.value)},isValid:""!==x&&x.length<=40,isInvalid:""!==x&&x.length>40,ref:O}),x.length>40&&Object(g.jsx)("div",{children:Object(g.jsx)(T.a.Text,{className:"input-error",children:"Name too long"})})]}),Object(g.jsx)("div",{style:{textAlign:"center"},children:Object(g.jsx)(k.a,{className:"popup-button mb-3 mt-3 px-4",variant:"primary",type:"submit",children:"Verify and update profile"})})]})})]})]})};var G=function(){var e=a.a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=a.a.useState(null),s=Object(i.a)(c,2),l=s[0],o=s[1];return a.a.useEffect((function(){document.title="Explore NFTs",Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("new");case 2:return t=e.sent,e.next=5,O("volume");case 5:n=e.sent,r(t),o(n);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(y.a,{className:"App-header",children:Object(g.jsxs)(w.a,{children:[Object(g.jsx)("h1",{className:"mt-4",children:"Explore NFTs"}),Object(g.jsx)(S.a,{})]})}),Object(g.jsxs)(L.a,{defaultActiveKey:"volume",className:"justify-content-center",variant:"pills",children:[Object(g.jsx)(R.a,{eventKey:"volume",title:"Hot NFTS",children:null!==l&&Object(g.jsx)("ul",{className:"cards-container",children:l.map((function(e){return Object(g.jsx)("a",{href:"/nft?address=".concat(e),children:Object(g.jsx)(N,{address:e},e)})}))})}),Object(g.jsx)(R.a,{eventKey:"new",title:"New Listings",children:null!==n&&Object(g.jsx)("ul",{className:"cards-container",children:n.map((function(e){return Object(g.jsx)("a",{href:"/nft?address=".concat(e),children:Object(g.jsx)(N,{address:e},e)})}))})})]})]})},q=n(301),V=n(171),K=n(166),M=n(82),H=n(83),z=n.p+"static/media/dingocoin.15331900.png",J=n(168),U=n(9);var Y=function(){var e=a.a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.a.useEffect((function(){r(window.location.pathname)}),[]),a.a.useEffect((function(){}),[n]),Object(g.jsx)(J.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(q.a,{className:"navbar",bg:"dark",expand:"lg",sticky:"top",children:Object(g.jsxs)(y.a,{children:[Object(g.jsxs)(q.a.Brand,{href:"/",className:"navbar-brand align-items-center",children:[Object(g.jsx)("img",{alt:"",src:z}),Object(g.jsx)("span",{children:"DINGOCOIN"}),Object(g.jsx)("span",{className:"navbar-brand-subtitle",children:" NFT Platform"})]}),Object(g.jsx)(q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsxs)(q.a.Collapse,{children:[Object(g.jsxs)(V.a,{className:"ms-auto",style:{paddingRight:"1.5rem"},children:[Object(g.jsx)(V.a.Link,{href:"/explore",children:"Explore NFTs"}),Object(g.jsx)(V.a.Link,{href:"/create",children:"Create"})]}),Object(g.jsxs)(T.a,{className:"d-flex",children:[Object(g.jsx)(K.a,{type:"search",placeholder:"Jump to NFT/profile address...","aria-label":"Search",style:{borderTopRightRadius:"0",borderBottomRightRadius:"0",minWidth:"20rem"}}),Object(g.jsx)(k.a,{variant:"secondary mx-0",style:{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},type:"submit",children:Object(g.jsx)(M.a,{icon:H.b})})]})]})]})}),Object(g.jsx)("section",{className:"section-content",children:Object(g.jsxs)(U.c,{children:[Object(g.jsx)(U.a,{path:"/create",element:Object(g.jsx)(l.a,{})}),Object(g.jsx)(U.a,{path:"/profile",element:Object(g.jsx)(D,{})}),Object(g.jsx)(U.a,{path:"/nft",element:Object(g.jsx)(A,{})}),Object(g.jsx)(U.a,{path:"/explore",element:Object(g.jsx)(G,{})})]})}),Object(g.jsx)("section",{children:Object(g.jsx)("div",{className:"justify-content-center section-footer align-items-center",children:Object(g.jsx)("h6",{children:"Copyright \xa9 The Dingocoin Project 2021-2022"})})})]})})},W=n(170),$=n.n(W);s.a.render(Object(g.jsx)($.a,{children:Object(g.jsx)(Y,{})}),document.getElementById("root"))},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return x}));var r=n(15),a=n(8),c=n.n(a),s=n(21),i="https://nftp0.dingocoin.io",l=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)("".concat(i,"/nft/getBusy"),{address:t.address});case 2:if(null!==(n=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",n.busy);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return Object(s.a)("".concat(i,"/nft/getContent"),{address:e.address,timestamp:e.timestamp,signature:e.signature})},o=function(e){return Object(s.a)("".concat(i,"/nft/getBuyTransaction"),{address:e.address,price:e.price})},j=function(e){return Object(s.a)("".concat(i,"/nft/sendBuyTransaction"),{transaction:e.transaction})},d=function(e){return Object(s.a)("".concat(i,"/nft/getListTransaction"),{contentHash:e.contentHash,price:e.price,royalty:e.royalty})},b=function(e){return Object(s.a)("".concat(i,"/nft/sendListTransaction"),{content:e.content,preview:e.preview,name:e.name,description:e.description,tags:e.tags,transaction:e.transaction})},x=function(e){return Object(s.a)("".concat(i,"/profile/update"),{timestamp:e.timestamp,owner:e.owner,name:e.name,signature:e.signature})}},35:function(e,t,n){"use strict";var r=n(82),a=n(83),c=n(1);t.a=function(){return Object(c.jsxs)("div",{className:"divider-custom",children:[Object(c.jsx)("div",{className:"divider-custom-line mt-2 mb-2"}),Object(c.jsx)("div",{className:"divider-custom-icon mt-2 mb-2",children:Object(c.jsx)(r.a,{icon:a.a})}),Object(c.jsx)("div",{className:"divider-custom-line mt-2 mb-2"})]})}}},[[297,1,2]]]);
//# sourceMappingURL=main.ca720ee3.chunk.js.map