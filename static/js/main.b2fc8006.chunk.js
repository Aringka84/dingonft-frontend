(this["webpackJsonpdingonft-frontend"]=this["webpackJsonpdingonft-frontend"]||[]).push([[0],{130:function(e,t,n){"use strict";(function(e){var a=n(7),s=n(34),c=n(15),r=n.n(c),i=n(42),l=n(26),o=n(20),j=n(137),d=n(1),u=n.n(d),b=n(56),h=n(131),x=n.n(h),O=n(132),m=n.n(O),p=n(133),f=n.n(p),v=n(0),g="https://nftp0.dingocoin.org",N=function(e){if(null===e||void 0===e||"string"!==typeof e||""===e)throw new Error("Expected string input");return(BigInt(f.a.toWei(e,"gwei"))/10n).toString()},y=function(e){var t=BigInt(e)<0n;t&&(e=-e);var n=(BigInt(e)/100000000n).toString();return(t?"-":"")+"".concat(n.replace(/\B(?=(\d{3})+(?!\d))/g,","))},T=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,setTimeout((function(){return a.abort()}),5e3),e.next=4,fetch(t,{withCredentials:!0,method:"POST",signal:a.signal,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.a=function(t){var n=u.a.useState(void 0),c=Object(a.a)(n,2),d=c[0],h=c[1],O=u.a.useState(void 0),p=Object(a.a)(O,2),f=p[0],w=p[1],S=u.a.useState(void 0),C=Object(a.a)(S,2),k=C[0],F=C[1],A=u.a.useState(void 0),D=Object(a.a)(A,2),I=D[0],P=D[1],L=u.a.useState(void 0),B=Object(a.a)(L,2),G=B[0],z=B[1],E=u.a.useState(void 0),q=Object(a.a)(E,2),M=q[0],R=q[1],$=u.a.useState("1"),J=Object(a.a)($,2),H=J[0],U=J[1],W=u.a.useState("1"),Y=Object(a.a)(W,2),_=Y[0],K=Y[1],Q=u.a.useState(0),V=Object(a.a)(Q,2),X=V[0],Z=V[1],ee=u.a.useState(null),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],se=u.a.useState(null),ce=Object(a.a)(se,2),re=ce[0],ie=ce[1];u.a.useEffect((function(){Object(s.a)(r.a.mark((function n(){var a,s,c,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T("".concat(g,"/retrieve/meta"),{address:t.address});case 2:return a=n.sent.asset,h(a),n.next=6,T("".concat(g,"/retrieve/state"),{address:t.address});case 6:return s=n.sent,console.log(s),w(s.listTx),F(s.sellTx),P(s.busy),n.next=13,T("".concat(g,"/retrieve/content"),{address:t.address});case 13:null===(c=n.sent.content)?z(null):(i=e.from(c,"base64"),m.a.fromBuffer(i,(function(e,t){null===t?(z("data:application/octet-stream;base64,"+c),R(null)):(z("data:"+t.mime+";base64,"+c),R(t.ext))})));case 15:case"end":return n.stop()}}),n)})))()}),[]);var le=function(){var e=Object(s.a)(r.a.mark((function e(n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),n.stopPropagation(),e.next=4,T("".concat(g,"/list/getTransaction"),{address:t.address,price:N(H),royalty:25+Math.floor(75*X/100)});case 4:return a=e.sent.vouts,e.next=7,window.dingo.requestSignTransaction([],a);case 7:return s=e.sent.result,e.next=10,T("".concat(g,"/list/sendTransaction"),{transaction:s});case 10:c=e.sent,ae(c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(s.a)(r.a.mark((function e(n){var a,s,c,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),n.stopPropagation(),e.next=4,T("".concat(g,"/buy/getTransaction"),{address:t.address,price:N(_)});case 4:return a=e.sent,s=a.vins,c=a.vouts,e.next=9,window.dingo.requestSignTransaction(s,c);case 9:return i=e.sent.result,e.next=12,T("".concat(g,"/buy/sendTransaction"),{transaction:i});case 12:l=e.sent,ie(l);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{style:{textAlign:"center"},children:[void 0!==d&&null==d&&Object(v.jsx)(i.a,{children:Object(v.jsx)(l.a,{children:Object(v.jsx)("h1",{className:"mt-4",children:"This NFT does not exist!"})})}),void 0!==d&&null!==d&&Object(v.jsxs)(i.a,{children:[void 0!==G&&null!==M&&Object(v.jsxs)(l.a,{children:[Object(v.jsx)("div",{style:{maxHeight:"50vh"},className:"mt-4 mb-4",children:Object(v.jsx)(x.a,{fileType:M,filePath:G})}),Object(v.jsx)(b.a,{})]}),Object(v.jsxs)(l.a,{children:[Object(v.jsxs)("div",{className:"mt-2",children:[""!==d.name&&Object(v.jsx)("h3",{children:d.name}),""===d.name&&Object(v.jsx)("h3",{className:"mb-0",children:"Unnamed NFT"}),Object(v.jsxs)("p",{style:{fontSize:"1rem"},children:[Object(v.jsx)("b",{children:d.address}),""!==d.description&&Object(v.jsxs)("i",{children:[Object(v.jsx)("br",{}),d.description]}),Object(v.jsx)("br",{}),Object(v.jsx)("a",{href:G,download:"".concat(t.address).concat(null===M?"":"."+M),children:"(Download Asset)"})]})]}),void 0!==f&&null!==f&&void 0!==k&&null!==k&&Object(v.jsxs)("div",{className:"mt-2 mb-2",children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{style:{fontSize:"1.25rem"},children:[Object(v.jsx)("b",{children:y(k.price)})," DINGO"]}),Object(v.jsx)("h6",{className:"mt-0",children:"Current Price"})]}),Object(v.jsxs)("div",{className:"mt-2",children:[Object(v.jsx)("span",{style:{fontSize:"1rem"},children:k.owner}),Object(v.jsx)("h6",{className:"mt-0",children:"Owner"})]}),Object(v.jsxs)("div",{className:"mt-4",children:[Object(v.jsx)("span",{style:{fontSize:"0.75rem"},children:f.owner}),Object(v.jsx)("h6",{className:"mt-0",children:"Creator"})]})]})]}),Object(v.jsx)(b.a,{}),void 0!==I&&null!==I&&Object(v.jsxs)(l.a,{className:"justify-content-md-center mt-2",children:[Object(v.jsx)("h2",{children:"Buy NFT"}),Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h5",{children:"NFT busy"}),Object(v.jsxs)("p",{children:[Object(v.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+I.txid,rel:"noreferrer",target:"_blank",children:"A transaction"})," ","is currenly being confirmed for this NFT. ",Object(v.jsx)("br",{}),"Please try again in a few minutes."]})]})]}),void 0!==I&&null===I&&null===f&&Object(v.jsxs)(l.a,{className:"justify-content-md-center mt-2",children:[Object(v.jsx)("h2",{children:"Sell NFT"}),Object(v.jsx)("p",{children:Object(v.jsx)("b",{style:{color:"red"},children:"Do not share this NFT's address until you have listed it for sale, or it can be stolen from you."})}),Object(v.jsxs)("p",{style:{textAlign:"left"},children:["Contragulations! If you are here, you have probably just created this NFT. It is near impossible that anyone else knows about its address. As the glorious creator of this NFT, you can"," ",Object(v.jsx)("b",{children:Object(v.jsx)("u",{children:"set the initial selling price"})}),". You will also receive"," ",Object(v.jsx)("b",{children:Object(v.jsx)("u",{children:"creator royalties"})})," ","for your NFT (sent automatically to the address used to sign this transaction)."]}),null==ne&&Object(v.jsxs)(i.a,{className:"justify-content-md-center",children:[Object(v.jsxs)(l.a,{className:"mx-auto",style:{maxWidth:"35rem"},children:[Object(v.jsxs)(o.a.Group,{className:"mb-3 mt-4",children:[Object(v.jsx)(o.a.Label,{children:Object(v.jsx)("b",{children:"Initial selling price (*required)"})}),Object(v.jsx)(o.a.Control,{type:"text",value:H,onChange:function(e){e.target.value.match(/^[0-9]+$/)&&parseInt(e.target.value)>=1?U(e.target.value):U("1")},style:{textAlign:"center"}}),Object(v.jsx)(o.a.Text,{className:"text-muted",children:"Initial selling price for the NFT in Dingocoin (min. 1 Dingocoin)."})]}),Object(v.jsxs)(o.a.Group,{className:"mb-3",children:[Object(v.jsxs)(o.a.Label,{children:[Object(v.jsx)("b",{children:"Creator royalty: "}),(2.5+Math.floor(75*X/100)/10).toFixed(1)+"%"]}),Object(v.jsx)(o.a.Range,{value:X,onChange:function(e){return Z(e.target.value)}}),Object(v.jsx)(o.a.Text,{className:"text-muted",children:"Royalty paid to you for every transaction of this NFT."})]})]}),Object(v.jsx)(l.a,{children:Object(v.jsx)(j.a,{className:"popup-button mb-4 mx-auto px-4",style:{width:"auto"},onClick:le,children:"Sell NFT"})})]}),null!==ne&&Object(v.jsx)(i.a,{children:Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h4",{children:"Transaction submitted!"}),Object(v.jsxs)("p",{children:["Transaction ID:"," ",Object(v.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+ne.txid,rel:"noreferrer",target:"_blank",children:ne.txid}),Object(v.jsx)("br",{}),"It may take a few minutes for your transaction to be confirmed."]})]})})]}),void 0!==I&&null===I&&void 0!==f&&null!==f&&Object(v.jsxs)(l.a,{className:"justify-content-md-center mt-2",children:[Object(v.jsx)("h2",{children:"Buy NFT"}),null==re&&Object(v.jsxs)(i.a,{className:"justify-content-md-center",children:[Object(v.jsx)(l.a,{className:"mx-auto",style:{maxWidth:"35rem"},children:Object(v.jsxs)(o.a.Group,{className:"mb-3 mt-3",children:[Object(v.jsx)(o.a.Label,{children:Object(v.jsx)("b",{children:"Resell at (*required)"})}),Object(v.jsx)(o.a.Control,{type:"text",value:_,onChange:function(e){e.target.value.match(/^[0-9]+$/)&&parseInt(e.target.value)>=1?K(e.target.value):K("1")},style:{textAlign:"center"}}),Object(v.jsx)(o.a.Text,{className:"text-muted",children:"New price you want to sell this NFT for (min. 1 Dingocoin)."})]})}),Object(v.jsx)(l.a,{children:Object(v.jsx)(j.a,{className:"popup-button mb-4 mx-auto px-4",style:{width:"auto"},onClick:oe,children:"Buy and Resell NFT"})})]}),null!==re&&void 0===re.error&&Object(v.jsx)(i.a,{children:Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h4",{children:"Transaction submitted!"}),Object(v.jsxs)("p",{children:["Transaction ID:"," ",Object(v.jsx)("a",{className:"simple-link",href:"https://openchains.info/coin/dingocoin/tx/"+re.txid,rel:"noreferrer",target:"_blank",children:re.txid}),Object(v.jsx)("br",{}),"It may take a few minutes for your transaction to be confirmed."]})]})}),null!==re&&void 0!==re.error&&Object(v.jsx)(i.a,{children:Object(v.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[" ",Object(v.jsx)("h4",{children:"Transaction failed!"}),Object(v.jsx)("p",{children:"You can't buy this NFT as its owner/creator."})]})})]})]})]})}}).call(this,n(8).Buffer)},142:function(e,t,n){},204:function(e,t){},205:function(e,t){},211:function(e,t){},215:function(e,t){},218:function(e,t){},229:function(e,t){},259:function(e,t){},261:function(e,t){},272:function(e,t){},274:function(e,t){},287:function(e,t){},289:function(e,t){},305:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(21),r=n.n(c),i=n(7),l=(n(142),n(34)),o=n(15),j=n.n(o),d=n(42),u=n(26),b=n(129),h=n(20),x=n(137),O=n(56),m=n(0),p=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result.split(",")[1])},a.onerror=function(e){return n(e)}}))},f=function(){var e=Object(l.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,setTimeout((function(){return a.abort()}),5e3),e.next=4,fetch(t,{withCredentials:!0,method:"POST",signal:a.signal,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var v=function(){var e=s.a.useState(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=s.a.useState(""),r=Object(i.a)(c,2),o=r[0],v=r[1],g=s.a.useState(""),N=Object(i.a)(g,2),y=N[0],T=N[1],w=s.a.useState(""),S=Object(i.a)(w,2),C=S[0],k=S[1],F=s.a.useState(""),A=Object(i.a)(F,2),D=A[0],I=A[1],P=s.a.useState(""),L=Object(i.a)(P,2),B=L[0],G=L[1],z=s.a.useState(""),E=Object(i.a)(z,2),q=E[0],M=E[1],R=s.a.useState(""),$=Object(i.a)(R,2),J=$[0],H=$[1],U=s.a.useState(!1),W=Object(i.a)(U,2),Y=W[0],_=W[1],K=s.a.useState(null),Q=Object(i.a)(K,2),V=Q[0],X=Q[1],Z=s.a.useState(null),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=function(){var e=Object(l.a)(j.a.mark((function e(t){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),null!==n){e.next=8;break}return v("Asset required"),e.abrupt("return");case 8:if(!(n.size>1e6)){e.next=13;break}return v("Size limit exceeded"),e.abrupt("return");case 13:v("");case 14:return a={},e.next=17,p(n);case 17:return a.asset=e.sent,a.details={name:y,description:C,tags:D,tradeDeadline:""===B?-1:parseInt(B),concealDeadline:""===q?-1:parseInt(q),privatizeDeadline:""===J?-1:parseInt(J)},e.next=21,f("".concat("https://nftp0.dingocoin.org","/create"),a);case 21:if(!("error"in(s=e.sent))){e.next=24;break}return e.abrupt("return");case 24:X(!0),ne(s.address);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)(d.a,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)("h1",{className:"mt-4",children:"Create NFT"}),Object(m.jsx)(O.a,{})]})})}),Object(m.jsx)(d.a,{children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(b.a,{children:[(null===V||!1===V)&&Object(m.jsxs)(h.a,{onSubmit:ae,children:[Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:Object(m.jsx)("b",{children:"Asset (*required)"})}),Object(m.jsx)(h.a.Control,{type:"file",onChange:function(e){return a(e.target.files[0])},isInvalid:""!==o}),o&&Object(m.jsx)("div",{children:Object(m.jsx)(h.a.Text,{className:"input-error",children:o})}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"The NFT will be locked uniquely to this file. You can only use this file once. (Max 1 MB)."})]}),Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:"NFT name (optional)"}),Object(m.jsx)(h.a.Control,{type:"text",value:y,onChange:function(e){return T(e.target.value)}}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"(Max 40 characters)."})]}),Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:"NFT description (optional)"}),Object(m.jsx)(h.a.Control,{type:"text",value:C,onChange:function(e){return k(e.target.value)}}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"(Max 500 characters)."})]}),Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:"NFT tags (optional)"}),Object(m.jsx)(h.a.Control,{type:"text",value:D,onChange:function(e){return I(e.target.value)}}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"(Space separated; max 100 characters)."})]}),Y&&Object(m.jsxs)("div",{children:[Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:"Trade until (optional)"}),Object(m.jsx)(h.a.Control,{type:"text",placeholder:"Feature coming soon...",value:B,onChange:function(e){e.target.value.match(/^[0-9]+$/)?G(e.target.value):(e.preventDefault(),e.stopPropagation())},disabled:!0}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"The asset can be traded only up to this block height."})]}),Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:"Conceal content until (optional)"}),Object(m.jsx)(h.a.Control,{type:"text",placeholder:"Feature coming soon...",value:q,onChange:function(e){e.target.value.match(/^[0-9]*$/)?M(e.target.value):(e.preventDefault(),e.stopPropagation())},disabled:!0}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"The asset can be traded but not viewed before this block height."})]}),Object(m.jsxs)(h.a.Group,{className:"mb-3",children:[Object(m.jsx)(h.a.Label,{children:"Privatize content until (optional)"}),Object(m.jsx)(h.a.Control,{type:"text",placeholder:"Feature coming soon...",value:J,onChange:function(e){e.target.value.match(/^[0-9]*$/)?H(e.target.value):(e.preventDefault(),e.stopPropagation())},disabled:!0}),Object(m.jsx)(h.a.Text,{className:"text-muted",children:"Only the latest owner can view the asset's content before this block height, unless concealed."})]})]}),!Y&&Object(m.jsx)("div",{className:"clickable",onClick:function(e){_(!0),e.preventDefault(),e.stopPropagation()},children:"Show advanced options \u25bc"}),Y&&Object(m.jsx)("div",{className:"clickable",onClick:function(e){_(!1),e.preventDefault(),e.stopPropagation()},href:"#",children:"Hide advanced options \u25b2"}),Object(m.jsx)("div",{style:{textAlign:"center"},children:null===V&&Object(m.jsx)(x.a,{className:"popup-button mt-2 px-4",variant:"primary",type:"submit",children:"Create NFT"})})]}),!0===V&&Object(m.jsxs)("div",{style:{textAlign:"center"},children:[" ",Object(m.jsx)("h3",{children:"NFT Created!"}),Object(m.jsxs)("p",{children:["NFT Address:"," ",Object(m.jsx)("a",{className:"simple-link",href:"/nft?address="+te,rel:"noreferrer",children:te})]})]})]})})})]})},g=n(130),N=n(307),y=n(308),T=n.p+"static/media/dingocoin.15331900.png";var w=function(){var e=s.a.useState(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return s.a.useEffect((function(){a(window.location.pathname)}),[]),s.a.useEffect((function(){}),[n]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(N.a,{className:"navbar",bg:"dark",expand:"lg",sticky:"top",children:Object(m.jsxs)(d.a,{children:[Object(m.jsxs)(N.a.Brand,{href:"#home",className:"navbar-brand align-items-center",children:[Object(m.jsx)("img",{alt:"",src:T}),Object(m.jsx)("span",{children:"DINGOCOIN"}),Object(m.jsx)("span",{className:"navbar-brand-subtitle",children:" NFT"})]}),Object(m.jsx)(N.a.Collapse,{children:Object(m.jsxs)(y.a,{className:"ms-auto",children:[Object(m.jsx)(y.a.Link,{children:"Explore"}),Object(m.jsx)(y.a.Link,{href:"/create",children:"Create"})]})}),Object(m.jsx)(N.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})}),Object(m.jsx)("section",{className:"section-content",children:null===n&&Object(m.jsx)("div",{})||"/create"===n&&Object(m.jsx)(v,{})||"/nft"===n&&Object(m.jsx)(g.a,{address:new URLSearchParams(window.location.search).get("address"),style:{minHeight:"100vh"}})}),Object(m.jsx)("section",{children:Object(m.jsx)("div",{className:"justify-content-center section-footer align-items-center",children:Object(m.jsx)("h6",{children:"Copyright \xa9 The Dingocoin Project 2021-2022"})})})]})},S=n(135),C=n.n(S);r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(C.a,{children:Object(m.jsx)(w,{})})}),document.getElementById("root"))},56:function(e,t,n){"use strict";var a=n(127),s=n(128),c=n(0);t.a=function(){return Object(c.jsxs)("div",{className:"divider-custom",children:[Object(c.jsx)("div",{className:"divider-custom-line"}),Object(c.jsx)("div",{className:"divider-custom-icon",children:Object(c.jsx)(a.a,{icon:s.a})}),Object(c.jsx)("div",{className:"divider-custom-line"})]})}}},[[305,1,2]]]);
//# sourceMappingURL=main.b2fc8006.chunk.js.map